<script>
    function computerPlay(){
        let num = Math.random();
        if(num>0.33){
            if(num>0.66){
                return("rock");
            }
            else{
                return("scissors");
            }
        }
        else{
            return("paper");
        }
    }

    function rps(playerSelection, computerSelection){
        playerSelection = playerSelection.toLowerCase();
        let winner = 1;
        if(playerSelection == computerSelection){
            winner = 0;
        }
        else if(playerSelection == "rock" && computerSelection == "paper" || playerSelection == "scissors" && computerSelection == "rock" || playerSelection == "paper" && computerSelection == "scissors"){
            winner = 2;
        }
        switch(winner){
            case 0:
                return("Draw! You both picked "+playerSelection);
            case 1:
                return("You win! "+playerSelection+" beats "+computerSelection);
            case 2:
                return("You lose! "+computerSelection+" beats "+playerSelection);
        }
    }

    function game(){
        console.log("Welcome to Rock, Paper, Scissors! Play a game of five against the computer.")
        let input;
        let result;
        let countComputer = 0;
        let countPlayer = 0;
        for(let i=0;i<5;i++){
            input = prompt("Please input Rock, Paper or Scissors: ");
            result = rps(input,computerPlay());
            if(result.includes("Draw")){
                i--;
            }
            else if(result.includes("win")){
                countPlayer++;
            }
            else{
                countComputer++;
            }
            console.log(result);
        }
        if(countPlayer>countComputer){
            console.log("You won "+ countPlayer + " times, while the computer only won "+countComputer+" times. Therefore you win the best of five!");
        }
        else{
            console.log("You won "+ countPlayer + " times, while the computer won "+countComputer+" times. Therefore you lost the best of five!");  
        }
    }
</script>